const q=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}};q();function c(t){return new Promise(e=>setTimeout(e,t))}async function A(t,e,n){let s=await B(t);s=="pending"&&(await e(),s=await Promise.all(t),await(n==null?void 0:n()))}async function B(t){if(!Array.isArray(t)){const n={};return await Promise.race([t,n]).then(s=>s===n?"pending":"fulfilled").catch(()=>"rejected")}const e=new Set;for(const n of t){const s={},a=await Promise.race([n,s]).then(o=>o===s?"pending":"fulfilled").catch(()=>"rejected");if(a=="rejected")return a;e.add(a)}return e.has("pending")?"pending":"fulfilled"}function y(t,e){return new Promise(n=>t.addEventListener(e,n,{once:!0}))}function P(t){return[...t].reduce((e,n)=>n==" "?e+" ":e+`<span>${n}</span>`,"")}const d=document.createElement("div");d.className="loaderCtx";const $=document.createElement("div");$.className="loader";d.append($);const b=1e3;d.style.transition=`all ${b}ms`;d.style.transform="scale(0)";async function T(t,e){await A(t,async()=>{e.style.cursor="pointer",e.append(d),await c(1),d.style.transform="scale(1)",await c(b),j(e)},async()=>{d.style.transform="scale(0)",await c(b),d.remove(),e.style.cursor=""})}function j(t){const{width:e,height:n}=d.getBoundingClientRect();t.addEventListener("mousedown",async a=>{s(a),t.addEventListener("mousemove",s),await y(t,"mouseup"),t.removeEventListener("mousemove",s)});function s(a){d.style.left=a.clientX-e/2+"px",d.style.top=a.clientY-n/2+"px"}}var O="./assets/intro.a9b66f7e.mp3",C="./assets/click.248312c2.wav",D="./assets/false.66be19b4.wav",N="./assets/true.9f44cd89.wav",I="./assets/success.490ec437.wav",Y="./assets/birthday.0e4d0c20.mp3",_="./assets/boom.7e44cf5c.wav",x="./assets/fireworks.f814ada5.wav",F="./assets/party.min.6a9ac8fb.js";const r={};function z(t=0,e=[]){r.intro=new Audio(O),r.intro.loop=!0;const n=new Map().set("click",w(C)).set("true",w(N)).set("false",w(D)).set("success",w(I));for(const s of n.entries())e.push(S(s));return e.push(c(t),y(window,"load"),y(r.intro,"canplaythrough")),e}function W(t=0,e=[]){r.birthday=new Audio(Y),r.birthday.loop=!0;const n=new Map().set("boom",w(_)).set("fireworks",w(x));for(const a of n.entries())e.push(S(a));const s=document.createElement("script");return s.async=!0,s.src=F,document.head.append(s),e.push(c(t),y(s,"load"),y(r.birthday,"canplaythrough")),e}async function S([t,e]){r[t]=await e}async function w(t){const e=new AudioContext,n=await fetch(t),s=await n.arrayBuffer(),a=await e.decodeAudioData(s);function o(){const i=e.createBufferSource();return i.buffer=a,i.connect(e.destination),i.start(e.currentTime),i}return{play:o}}function X(t){t.addEventListener("click",()=>r.click.play()),t.addEventListener("click",()=>r.intro.play(),{once:!0});const e=t.querySelector("select"),n=document.createElement("output");e.addEventListener("change",o);const s=t.querySelector("input[type=date]"),a=document.createElement("output");s.addEventListener("change",i);function o(){if(e.value!=2014){r.false.play(),n.style.color="darkorange",n.innerHTML=`<br>Ops\u{1F605} we meet on <span>2014 \u2713</span><br>not <span>${e.value}\u2717</span> !!`,e.after(n);return}e.removeEventListener("change",o),n.style.color="greenyellow",n.innerHTML=`<br>Yes\u{1F601} <b>2014 \u2713</b><br>it's was awesome ${new Date().getFullYear()-2014} years of <b>friendship</b>!!`,e.replaceWith(n),h()}function i(){if(s.value!="2000-01-15"){r.false.play(),a.style.color="darkorange",a.innerHTML=`<br>Ops\u{1F605} my birthday on <span>15<sup><small>th</small></sup> january \u2713</span> <br>not <span>${s.value}\u2717</span> !!`,s.after(a);return}s.removeEventListener("change",i),a.style.color="greenyellow",a.innerHTML="<br>Yes\u{1F601} <b>15<sup><small>th</small></sup> january \u2713</b><br>you're younger than me by <b>165</b> day!!",s.replaceWith(a),h()}const p=t.querySelector("button");function h(){if(s.value!="2000-01-15"||e.value!=2014){r.true.play().addEventListener("ended",()=>delete r.true,{once:!0});return}delete r.false,r.success.play().addEventListener("ended",()=>delete r.success,{once:!0}),p.disabled=!1,p.innerText="Unlocked",p.dataset.lock="\u{1F511}"}}const l=document.createElement("dialog");l.innerHTML=`
  <form method=dialog>
    <h3>\u{1F60E}Hi mechid\u2728</h3>
    <p>I create for u a Gift\u{1F381}</p>
    <details>
      <summary>
        but first, answer the questions:
      </summary><br>
      <label>which <em>year</em> our first meeting?
        <select required>
          <option selected disabled hidden></option>
          <option>2010</option>
          <option>2011</option>
          <option>2012</option>
          <option>2013</option>
          <option>2014</option>
          <option>2015</option>
          <option>2016</option>
        </select>
      </label><br>
      <label>which day I <em>born</em>?
        <input type=date value='2000-01-29' required>
      </label><br>
      <button type=button disabled data-lock='\u{1F512}'>Locked</button>
    </details>
  </form>`;const L=500;l.style.transition=`transform ${L}ms`;l.style.transform="scale(0)";async function G(t){t.append(l),l.showModal(),l.style.transform="scale(1)",await c(L),X(l);const e=l.querySelector("button");await y(e,"click"),l.style.transform="scale(0)",await c(L),l.close(),l.remove()}const u=document.createElement("h1");u.className="logo";u.innerHTML=P("\u203A_~");const E=500;u.style.transition=`transform ${E}ms`;u.style.transform="scale(0)";async function K(t){t.append(u),await c(0),u.style.transform="scale(1)",await c(E-150),u.classList.add("animated"),await c(150),await y(t,"click"),u.classList.remove("animated"),await c(0),u.style.transform="scale(0)",await c(E),u.remove()}var Q="./assets/mediaIcons.5c839f27.json",R="./assets/UniParse.0a8eed2e.avif 66w, ./assets/UniParse.8d145562.webp 66w",J="./assets/mechid.2b997674.avif 66w, ./assets/mechid.36f59516.webp 66w";let V=[{name:"uniparse",side:"right",srcset:R,urls:["https://youtube.com/channel/UCvNOch5x46MDaejgQ6SkzUg","https://facebook.com/UniParse","https://instagram.com/UniParse","https://linkedin.com/in/UniParse","https://github.com/TheUniParse","https://twitter.com/UniParse"]},{name:"mechid",side:"left",srcset:J,urls:["https://facebook.com/got.em.11","https://instagram.com/mohamed_mchid_hedjala","https://twitter.com/mohamedmh06"]}];async function Z(t){const e=await te();t.append(...ne(e))}function ee(t=2500){document.querySelectorAll("address").forEach(n=>{n.style.transform="translateY(-.3rem)";let s,a;n.querySelector("img").addEventListener("click",p),n.addEventListener("mouseenter",async()=>{clearTimeout(a),await y(n,"mouseleave"),a=setTimeout(()=>{s&&p()},t)},{once:!1});const i=[...n.querySelectorAll("a")];function p(){i.forEach((h,v)=>{const g=60*(s?v:i.length-v),U=s?".3, -1,      1, 1":" 0,  0,     .7, 2";h.style.transition=`transform 200ms ${g}ms cubic-bezier(${U})`,h.style.transform=s?"":"translateX(0)"}),s=!s}})}async function te(){return await(await fetch(Q)).json()}function ne(t){return V.map(e=>{const n=document.createElement("address"),s=e.urls.map(o=>{const i=document.createElement("a");i.target="_blank",i.href=o;const p=o.slice(8,o.indexOf(".")),h=t[p];i.innerHTML=h;const v=i.querySelector("svg");v.role="img";const g=document.createElement("title");return g.innerText=`${p} of ${e.name}`,v.prepend(g),i});n.append(...s);const a=document.createElement("img");return a.srcset=e.srcset,a.alt=e.name,n.append(a),e=null,n})}const H=[1,2,3].map(t=>{const e=document.createElement("div");return e.id=`star${t}`,e}),M=document.createElement("div");M.id="surprise";const m=[1,2].map(()=>document.createElement("h1"));M.append(...m);m[0].innerHTML=P("Happy Birthday");m[1].innerHTML=P("Mechid");m[0].dataset.content="\u{1F38A}";m[1].dataset.contentBefore="\u{1F389}";m[1].dataset.contentAfter="\u{1F973}";const k=500;for(const t of m)t.style.transition=`transform ${k}ms`,t.style.transform="scale(0)";async function ae(t){r.intro.pause(),r.intro.currentTime=0,delete r.intro,delete r.click,t.append(M),await c(k),r.birthday.play(),r.boom.play().addEventListener("ended",()=>delete r.boom,{once:!0}),party.confetti(m[1],{count:party.variation.range(34,35)});for(const e of m)e.style.willChange="transform, opacity, text-shadow",e.style.transform="scale(1)";await c(k-150);for(const e of m)e.classList.add("animated");await c(150),t.addEventListener("click",e=>{r.fireworks.play(),party.sparkles(e,{count:party.variation.range(3,7),size:party.variation.range(.8,1.2)})},{once:!1})}const f=document.createElement("main");document.body.append(f);f.append(...H);(async()=>{const t=z();await c(500),await T(t,f);const e=W();await G(f),await K(f),await T(e,f);const n=Z(f);await ae(f),se(),await c(9e3),await n,ee()})();function se(){H.forEach((t,e)=>{t.style.willChange="transform",t.style.animation=`star${e+1} 60s ease-in-out infinite alternate`})}
