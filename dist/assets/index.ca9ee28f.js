const B=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}};B();function l(t){return new Promise(e=>setTimeout(e,t))}async function S(t,e,n){let r=await j(t);r=="pending"&&(await e(),r=await Promise.all(t),await(n==null?void 0:n()))}async function j(t){if(!Array.isArray(t)){const n={};return await Promise.race([t,n]).then(r=>r===n?"pending":"fulfilled").catch(()=>"rejected")}const e=new Set;for(const n of t){const r={},a=await Promise.race([n,r]).then(o=>o===r?"pending":"fulfilled").catch(()=>"rejected");if(a=="rejected")return a;e.add(a)}return e.has("pending")?"pending":"fulfilled"}function b(t,e){return new Promise(n=>t.addEventListener(e,n,{once:!0}))}function P(t){return[...t].reduce((e,n)=>n==" "?e+" ":e+`<span>${n}</span>`,"")}const u=document.createElement("div");u.className="loaderCtx";const $=document.createElement("div");$.className="loader";u.append($);const v=1e3;u.style.transition=`all ${v}ms`;u.style.transform="scale(0)";async function M(t,e){await S(t,async()=>{e.style.position="relative",e.style.cursor="progress",e.append(u),await l(0),A(e),u.style.transform="scale(1)",await l(v)},async()=>{u.style.transform="scale(0)",await l(v),u.remove(),e.style.cursor=""})}function A(t){const{width:e,height:n}=u.getBoundingClientRect();t.addEventListener("click",r=>{u.style.left=r.clientX-e/2+"px",u.style.top=r.clientY-n/2+"px"})}var O="./assets/intro.a9b66f7e.mp3",q="./assets/click.248312c2.wav",C="./assets/false.66be19b4.wav",D="./assets/true.9f44cd89.wav",N="./assets/success.490ec437.wav",I="./assets/birthday.0e4d0c20.mp3",z="./assets/boom.7e44cf5c.wav",x="./assets/fireworks.f814ada5.wav",F="./assets/party.min.6a9ac8fb.js";const s={},H=0;function X(){s.click=w(q),s.true=w(D),s.false=w(C),s.success=w(N),s.intro=new Audio(O),s.intro.loop=!0;const t=[new Promise(e=>setTimeout(e,H)),b(window,"load"),b(s.intro,"canplaythrough")];for(const e in s)e!="intro"&&t.push((async()=>s[e]=await s[e])());return t}function Y(){s.fireworks=w(x),s.boom=w(z),s.birthday=new Audio(I),s.birthday.loop=!0;const t=document.createElement("script");t.async=!0,t.src=F,document.head.append(t);const e=[new Promise(n=>setTimeout(n,H)),b(t,"load"),b(s.birthday,"canplaythrough")];for(let n in s)"boom fireworks".includes(n)&&e.push((async()=>s[n]=await s[n])());return e}async function w(t){const e=new AudioContext,n=await fetch(t),r=await n.arrayBuffer(),a=await e.decodeAudioData(r);function o(){const i=e.createBufferSource();return i.buffer=a,i.connect(e.destination),i.start(e.currentTime),i}return{play:o}}function _(t){t.addEventListener("click",()=>s.click.play()),t.addEventListener("click",()=>s.intro.play(),{once:!0});const e=t.querySelector("select"),n=document.createElement("output");e.addEventListener("change",o);const r=t.querySelector("input[type=date]"),a=document.createElement("output");r.addEventListener("change",i);function o(){if(e.value!=2014){s.false.play(),n.style.color="darkorange",n.innerHTML=`<br>Ops\u{1F605} we meet on <span>2014 \u2713</span><br>not <span>${e.value}\u2717</span> !!`,e.after(n);return}e.removeEventListener("change",o),n.style.color="greenyellow",n.innerHTML=`<br>Yes\u{1F601} <b>2014 \u2713</b><br>it's was awesome ${new Date().getFullYear()-2014} years of <b>friendship</b>!!`,e.replaceWith(n),h()}function i(){if(r.value!="2000-01-15"){s.false.play(),a.style.color="darkorange",a.innerHTML=`<br>Ops\u{1F605} my birthday on <span>15<sup><small>th</small></sup> january \u2713</span> <br>not <span>${r.value}\u2717</span> !!`,r.after(a);return}r.removeEventListener("change",i),a.style.color="greenyellow",a.innerHTML="<br>Yes\u{1F601} <b>15<sup><small>th</small></sup> january \u2713</b><br>you're younger than me by <b>135</b> day!!",r.replaceWith(a),h()}const p=t.querySelector("button");function h(){if(r.value!="2000-01-15"||e.value!=2014){s.true.play().addEventListener("ended",()=>delete s.true,{once:!0});return}delete s.false,s.success.play().addEventListener("ended",()=>delete s.success,{once:!0}),p.disabled=!1,p.innerText="Unlocked",p.dataset.lock="\u{1F511}"}}const d=document.createElement("dialog");d.innerHTML=`
  <form method=dialog>
    <h3>\u{1F60E}Hi mechid\u2728</h3>
    <p>I create for u a Gift\u{1F381}</p>
    <details>
      <summary>
        but first, answer the questions:
      </summary><br>
      <label>which <em>year</em> our first meeting?
        <select required>
          <option selected disabled hidden></option>
          <option>2010</option>
          <option>2011</option>
          <option>2012</option>
          <option>2013</option>
          <option>2014</option>
          <option>2015</option>
          <option>2016</option>
        </select>
      </label><br>
      <label>which day I <em>born</em>?
        <input type=date value='2000-01-29' required>
      </label><br>
      <button type=button disabled data-lock='\u{1F512}'>Locked</button>
    </details>
  </form>`;const L=500;d.style.transition=`transform ${L}ms`;d.style.transform="scale(0)";async function W(t){t.append(d),d.showModal(),d.style.transform="scale(1)",await l(L),_(d);const e=d.querySelector("button");await b(e,"click"),d.style.transform="scale(0)",await l(L),d.close(),d.remove()}const m=document.createElement("h1");m.className="logo";m.innerHTML=P("\u203A_~");const k=500;m.style.transition=`transform ${k}ms`;m.style.transform="scale(0)";async function G(t){t.append(m),await l(0),m.style.transform="scale(1)",await l(k-150),m.classList.add("animated"),await l(150),await b(t,"click"),m.classList.remove("animated"),await l(0),m.style.transform="scale(0)",await l(k),m.remove()}var K="./assets/mediaIcons.5c839f27.json",Q="./assets/UniParse.0a8eed2e.avif 66w, ./assets/UniParse.8d145562.webp 66w",R="./assets/mechid.2b997674.avif 66w, ./assets/mechid.36f59516.webp 66w";const c={uniparse:{srcset:Q},mechid:{srcset:R}};async function J(t){const n=await(await fetch(K)).json();c.uniparse.urls=["https://youtube.com/channel/UCvNOch5x46MDaejgQ6SkzUg","https://facebook.com/UniParse","https://instagram.com/UniParse","https://linkedin.com/in/UniParse","https://github.com/TheUniParse","https://twitter.com/UniParse"],c.mechid.urls=["https://facebook.com/got.em.11","https://instagram.com/mohamed_mchid_hedjala","https://twitter.com/mohamedmh06"];for(const r in c){const a=document.createElement("address");for(const p of c[r].urls){const h=n[p.slice(8,p.indexOf("."))],g=document.createElement("a");g.target="_blank",g.href=p,g.innerHTML=h,a.append(g)}const o=document.createElement("img");o.srcset=c[r].srcset,o.alt=r,a.append(o);const i=[...a.querySelectorAll("svg")];i.forEach((p,h)=>p.style.transition=`all 500ms cubic-bezier(.215, .61, .355, 1),
      right ${(i.length-h)*100+200}ms cubic-bezier(.4,1,.8,1.4),
      left ${(i.length-h)*100+200}ms cubic-bezier(.4,1,.8,1.4)`),delete c[r].srcset,delete c[r].urls,c[r].img=o,c[r].svgs=i,t.append(a)}}function V(){c.uniparse.offsetX="right",c.mechid.offsetX="left";for(const t in c){const{img:e,svgs:n,offsetX:r}=c[t];let a;e.style.bottom=".3rem",e.addEventListener("click",()=>{a=!a;for(const o of n)o.style[r]=a?"2.8rem":0},{once:!1})}delete c.uniparse,delete c.mechid}const U=[1,2,3].map(t=>{const e=document.createElement("div");return e.id=`star${t}`,e}),T=document.createElement("div");T.id="surprise";const f=[1,2].map(()=>document.createElement("h1"));T.append(...f);f[0].innerHTML=P("Happy Birthday");f[1].innerHTML=P("Mechid");f[0].dataset.content="\u{1F38A}";f[1].dataset.contentBefore="\u{1F389}";f[1].dataset.contentAfter="\u{1F973}";const E=500;for(const t of f)t.style.transition=`transform ${E}ms`,t.style.transform="scale(0)";async function Z(t){s.intro.pause(),s.intro.currentTime=0,delete s.intro,delete s.click,t.append(T),await l(E),s.birthday.play(),s.boom.play().addEventListener("ended",()=>delete s.boom,{once:!0}),party.confetti(f[1],{count:party.variation.range(34,35)});for(const e of f)e.style.willChange="transform, opacity",e.style.transform="scale(1)";await l(E-150);for(const e of f)e.classList.add("animated");await l(150),t.addEventListener("click",e=>{s.fireworks.play(),party.sparkles(e,{count:party.variation.range(3,7),size:party.variation.range(.8,1.2)})},{once:!1})}const y=document.createElement("main");document.body.append(y);y.append(...U);(async()=>{const t=X();await l(500),await M(t,y);const e=Y();await W(y),await G(y),await M(e,y);const n=J(y);await Z(y),ee(),await l(9e3),await n,V()})();function ee(){U.forEach((t,e)=>{t.style.willChange="transform",t.style.animation=`star${e+1} 60s ease-in-out infinite alternate`})}
